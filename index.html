<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>Pokémon Type Chart</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato"/>
        <style>
            html {
                color: #404040;
                font-family: "Lato", "Ubuntu", "Trebuchet MS", "Helvetica", "Arial", "FreeSans", sans-serif;
                font-size: 15px;
                line-height: 1.5;
            }

            table {
                border-collapse: collapse;
                border-spacing: 0;
                margin: 0 auto 15px;
                padding: 0;
            }

            .type-table th {
                border: 1px solid #ECECEC;
                font-weight: normal;
                padding: 0;
            }

            .type-table td {
                border: 1px solid #ECECEC;
                padding: 0;
            }

            .cell-nano {
                font-size: 9px;
            }

            a {
                text-decoration: none;
                -webkit-transition: color 0.2s, background-color 0.2s;
                transition: color 0.2s, background-color 0.2s;
            }

            .type-abbr {
                background: #CCCCCC;
                background-image: -webkit-linear-gradient(#DDDDDD, #BBBBBB);
                background-image: linear-gradient(#DDDDDD, #BBBBBB);
                border: 1px solid #AAAAAA;
                border-radius: 2px;
                color: #FFFFFF;
                display: inline-block;
                font-size: 10px;
                height: 32px;
                line-height: 32px;
                text-align: center;
                text-shadow: 1px 1px 1px #333333;
                text-transform: uppercase;
                width: 32px;
            }

            .type-icon-th {
                background: #CCCCCC;
                background-image: -webkit-linear-gradient(#DDDDDD, #BBBBBB);
                background-image: linear-gradient(#DDDDDD, #BBBBBB);
                border: 1px solid #AAAAAA;
                border-radius: 2px;
                color: #FFFFFF;
                float: left;
                font-size: 10px;
                height: 32px;
                line-height: 32px;
                text-align: center;
                text-shadow: 1px 1px 1px #333333;
                text-transform: uppercase;
                width: 54px;
            }

            .type-icon-th:first-child {
                margin-left: 0;
            }

            .type-fx-cell {
                color: #DDDD66;
                font-size: 11px;
                height: 32px;
                line-height: 32px;
                text-align: center;
                width: 32px;
            }

            .type-fx-0 {
                background-color: #2E3436;
            }

            .type-fx-50 {
                background-color: #A40000;
                font-size: 14px;
            }

            .type-fx-100 {
                background-color: #FFFFFF;
            }

            .type-fx-150 {
                background-color: #4E9A06;
                font-size: 14px;
            }

            .type-fx-200 {
                background-color: #4E9A06;
            }

            /* ===== Custom 20-Type Palette =====
               Add this block AFTER your existing .type-* rules (so it overrides them).
               Distinct, readable gradients + matching border colors.
            */
            
            .type-fire {
              background: #E2573F;
              background-image: -webkit-linear-gradient(#E2573F, #B53C2B);
              background-image: linear-gradient(#E2573F, #B53C2B);
              border-color: #8F2F22;
            }
            
            .type-water {
              background: #2E7BD9;
              background-image: -webkit-linear-gradient(#2E7BD9, #1E56A6);
              background-image: linear-gradient(#2E7BD9, #1E56A6);
              border-color: #184584;
            }
            
            .type-air {
              background: #63C7D8;
              background-image: -webkit-linear-gradient(#63C7D8, #359FB2);
              background-image: linear-gradient(#63C7D8, #359FB2);
              border-color: #2A7E8C;
            }
            
            .type-earth {
              background: #B07A45;
              background-image: -webkit-linear-gradient(#B07A45, #835730);
              background-image: linear-gradient(#B07A45, #835730);
              border-color: #6A4627;
            }
            
            .type-plant {
              background: #35B66A;
              background-image: -webkit-linear-gradient(#35B66A, #238B4E);
              background-image: linear-gradient(#35B66A, #238B4E);
              border-color: #1B6D3D;
            }
            
            .type-ice {
              background: #7FD3FF;
              background-image: -webkit-linear-gradient(#7FD3FF, #46AEE6);
              background-image: linear-gradient(#7FD3FF, #46AEE6);
              border-color: #2F86B3;
            }
            
            .type-electric {
              background: #F1C40F;
              background-image: -webkit-linear-gradient(#F1C40F, #C89F0A);
              background-image: linear-gradient(#F1C40F, #C89F0A);
              border-color: #9E7D08;
            }
            
            .type-metal {
              background: #8E9AA8;
              background-image: -webkit-linear-gradient(#8E9AA8, #667382);
              background-image: linear-gradient(#8E9AA8, #667382);
              border-color: #4F5A66;
            }
            
            .type-poison {
              background: #8E44AD;
              background-image: -webkit-linear-gradient(#8E44AD, #6C2F87);
              background-image: linear-gradient(#8E44AD, #6C2F87);
              border-color: #55266A;
            }
            
            .type-gas {
              background: #A6D854;
              background-image: -webkit-linear-gradient(#A6D854, #78B83A);
              background-image: linear-gradient(#A6D854, #78B83A);
              border-color: #5E8F2D;
            }
            
            .type-beast {
              background: #C96B3C;
              background-image: -webkit-linear-gradient(#C96B3C, #9B4D28);
              background-image: linear-gradient(#C96B3C, #9B4D28);
              border-color: #7A3D20;
            }
            
            .type-insect {
              background: #7CB342;
              background-image: -webkit-linear-gradient(#7CB342, #558B2F);
              background-image: linear-gradient(#7CB342, #558B2F);
              border-color: #3F6E24;
            }
            
            .type-avian {
              background: #7E95FF;
              background-image: -webkit-linear-gradient(#7E95FF, #5668D6);
              background-image: linear-gradient(#7E95FF, #5668D6);
              border-color: #434FA6;
            }
            
            .type-light {
              background: #F6E58D;
              background-image: -webkit-linear-gradient(#F6E58D, #E0C95C);
              background-image: linear-gradient(#F6E58D, #E0C95C);
              border-color: #B79F47;
            }
            
            .type-dark {
              background: #3D3A50;
              background-image: -webkit-linear-gradient(#3D3A50, #272538);
              background-image: linear-gradient(#3D3A50, #272538);
              border-color: #1D1B2A;
            }
            
            .type-sound {
              background: #FF6FB5;
              background-image: -webkit-linear-gradient(#FF6FB5, #D94C93);
              background-image: linear-gradient(#FF6FB5, #D94C93);
              border-color: #AA3A72;
            }
            
            .type-mind {
              background: #7F8CFF;
              background-image: -webkit-linear-gradient(#7F8CFF, #5863D6);
              background-image: linear-gradient(#7F8CFF, #5863D6);
              border-color: #434CA6;
            }
            
            .type-spirit {
              background: #9B59B6;
              background-image: -webkit-linear-gradient(#9B59B6, #6F3D8C);
              background-image: linear-gradient(#9B59B6, #6F3D8C);
              border-color: #56306C;
            }
            
            .type-cosmic {
              background: #3B82F6;
              background-image: -webkit-linear-gradient(#3B82F6, #1E40AF);
              background-image: linear-gradient(#3B82F6, #1E40AF);
              border-color: #17348C;
            }
            
            .type-tech {
              background: #16A085;
              background-image: -webkit-linear-gradient(#16A085, #0E7662);
              background-image: linear-gradient(#16A085, #0E7662);
              border-color: #0B5A4B;
            }
        </style>
    </head>
    <body>
        <a id="add-type" class="type-icon-th" style="cursor: pointer;">Add Type</a>
        <table class="type-table">
            <thead>
                <tr id="typechart-head">
                  <th class="cell-nano">DEFENSE&nbsp;&#8594;<br/>ATTACK&nbsp;&#8628;</th>
                
                  <th><a class="type-abbr type-fire">Fir</a></th>
                  <th><a class="type-abbr type-water">Wat</a></th>
                  <th><a class="type-abbr type-air">Air</a></th>
                  <th><a class="type-abbr type-earth">Ear</a></th>
                  <th><a class="type-abbr type-plant">Pla</a></th>
                  <th><a class="type-abbr type-ice">Ice</a></th>
                  <th><a class="type-abbr type-electric">Ele</a></th>
                  <th><a class="type-abbr type-metal">Met</a></th>
                  <th><a class="type-abbr type-poison">Poi</a></th>
                  <th><a class="type-abbr type-gas">Gas</a></th>
                
                  <th><a class="type-abbr type-beast">Bea</a></th>
                  <th><a class="type-abbr type-insect">Ins</a></th>
                  <th><a class="type-abbr type-avian">Avi</a></th>
                
                  <th><a class="type-abbr type-light">Lig</a></th>
                  <th><a class="type-abbr type-dark">Dar</a></th>
                  <th><a class="type-abbr type-sound">Sou</a></th>
                  <th><a class="type-abbr type-mind">Min</a></th>
                
                  <th><a class="type-abbr type-spirit">Spi</a></th>
                  <th><a class="type-abbr type-cosmic">Cos</a></th>
                  <th><a class="type-abbr type-tech">Tec</a></th>
                </tr>
            </thead>
            <tbody id="typechart-body">
              <!-- Fire -->
              <tr id="Fire">
                <th><a class="type-icon-th type-fire">Fire</a></th>
                <td id="Fire → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Fire → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Water -->
              <tr id="Water">
                <th><a class="type-icon-th type-water">Water</a></th>
                <td id="Water → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Water → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Air -->
              <tr id="Air">
                <th><a class="type-icon-th type-air">Air</a></th>
                <td id="Air → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Air → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Earth -->
              <tr id="Earth">
                <th><a class="type-icon-th type-earth">Earth</a></th>
                <td id="Earth → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Earth → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Plant -->
              <tr id="Plant">
                <th><a class="type-icon-th type-plant">Plant</a></th>
                <td id="Plant → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Plant → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Ice -->
              <tr id="Ice">
                <th><a class="type-icon-th type-ice">Ice</a></th>
                <td id="Ice → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Ice → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Electric -->
              <tr id="Electric">
                <th><a class="type-icon-th type-electric">Electric</a></th>
                <td id="Electric → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Electric → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Metal -->
              <tr id="Metal">
                <th><a class="type-icon-th type-metal">Metal</a></th>
                <td id="Metal → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Metal → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Poison -->
              <tr id="Poison">
                <th><a class="type-icon-th type-poison">Poison</a></th>
                <td id="Poison → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Poison → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Gas -->
              <tr id="Gas">
                <th><a class="type-icon-th type-gas">Gas</a></th>
                <td id="Gas → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Gas → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Beast -->
              <tr id="Beast">
                <th><a class="type-icon-th type-beast">Beast</a></th>
                <td id="Beast → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Beast → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Insect -->
              <tr id="Insect">
                <th><a class="type-icon-th type-insect">Insect</a></th>
                <td id="Insect → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Insect → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Avian -->
              <tr id="Avian">
                <th><a class="type-icon-th type-avian">Avian</a></th>
                <td id="Avian → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Avian → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Light -->
              <tr id="Light">
                <th><a class="type-icon-th type-light">Light</a></th>
                <td id="Light → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Light → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Dark -->
              <tr id="Dark">
                <th><a class="type-icon-th type-dark">Dark</a></th>
                <td id="Dark → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Dark → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Sound -->
              <tr id="Sound">
                <th><a class="type-icon-th type-sound">Sound</a></th>
                <td id="Sound → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Sound → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Mind -->
              <tr id="Mind">
                <th><a class="type-icon-th type-mind">Mind</a></th>
                <td id="Mind → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Mind → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Spirit -->
              <tr id="Spirit">
                <th><a class="type-icon-th type-spirit">Spirit</a></th>
                <td id="Spirit → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Spirit → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Cosmic -->
              <tr id="Cosmic">
                <th><a class="type-icon-th type-cosmic">Cosmic</a></th>
                <td id="Cosmic → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Cosmic → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            
              <!-- Tech -->
              <tr id="Tech">
                <th><a class="type-icon-th type-tech">Tech</a></th>
                <td id="Tech → Fire" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Water" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Air" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Earth" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Plant" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Ice" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Electric" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Metal" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Poison" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Gas" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Beast" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Insect" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Avian" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Light" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Dark" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Sound" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Mind" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Spirit" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Cosmic" class="type-fx-cell type-fx-100"></td>
                <td id="Tech → Tech" class="type-fx-cell type-fx-100"></td>
              </tr>
            </tbody>
        </table>
        <table class="type-table">
            <thead>
                <tr id="typestats-head">
                  <th class="cell-nano">TYPE&nbsp;&#8594;<br/>STAT&nbsp;&#8628;</th>
                
                  <th><a class="type-icon-th type-fire">Fire</a></th>
                  <th><a class="type-icon-th type-water">Water</a></th>
                  <th><a class="type-icon-th type-air">Air</a></th>
                  <th><a class="type-icon-th type-earth">Earth</a></th>
                  <th><a class="type-icon-th type-plant">Plant</a></th>
                  <th><a class="type-icon-th type-ice">Ice</a></th>
                  <th><a class="type-icon-th type-electric">Electric</a></th>
                  <th><a class="type-icon-th type-metal">Metal</a></th>
                  <th><a class="type-icon-th type-poison">Poison</a></th>
                  <th><a class="type-icon-th type-gas">Gas</a></th>
                
                  <th><a class="type-icon-th type-beast">Beast</a></th>
                  <th><a class="type-icon-th type-insect">Insect</a></th>
                  <th><a class="type-icon-th type-avian">Avian</a></th>
                
                  <th><a class="type-icon-th type-light">Light</a></th>
                  <th><a class="type-icon-th type-dark">Dark</a></th>
                  <th><a class="type-icon-th type-sound">Sound</a></th>
                  <th><a class="type-icon-th type-mind">Mind</a></th>
                
                  <th><a class="type-icon-th type-spirit">Spirit</a></th>
                  <th><a class="type-icon-th type-cosmic">Cosmic</a></th>
                  <th><a class="type-icon-th type-tech">Tech</a></th>
                </tr>
            </thead>
            <tbody>
<tr id="typestats-offense">
    <th><a class="type-icon-th">OFFENSE</a></th>
</tr>
<tr id="typestats-defense">
    <th><a class="type-icon-th">DEFENSE</a></th>
</tr>
<tr id="typestats-overall">
    <th><a class="type-icon-th">OVERALL</a></th>
</tr>
            </tbody>
        </table>
        <script>
            window.addEventListener("DOMContentLoaded", function () {
                var typenames = [
                  "Fire", "Water", "Air", "Earth", "Plant", "Ice", "Electric", "Metal", "Poison", "Gas",
                  "Beast", "Insect", "Avian",
                  "Light", "Dark", "Sound", "Mind",
                  "Spirit", "Cosmic", "Tech"
                ];

                var typechartHead = document.getElementById("typechart-head");
                var typechartBody = document.getElementById("typechart-body");
                var typestatsHead = document.getElementById("typestats-head");

                var typestatsOffense = document.getElementById("typestats-offense");
                var typestatsDefense = document.getElementById("typestats-defense");
                var typestatsOverall = document.getElementById("typestats-overall");

                
// Build OFFENSE/DEFENSE/OVERALL rows so they always match `typenames`
function rebuildTypeStatsRows() {
  // Keep the leading <th> and remove any existing <td>s
  [typestatsOffense, typestatsDefense, typestatsOverall].forEach(row => {
    if (!row) return;
    while (row.children.length > 1) row.removeChild(row.lastChild);
  });

  typenames.forEach(name => {
    ["Offense", "Defense", "Overall"].forEach(label => {
      const td = document.createElement("td");
      td.id = `${label} ${name}`;
      td.className = "type-fx-cell type-fx-0";
      td.innerHTML = "0.00";
      if (label === "Offense") typestatsOffense.appendChild(td);
      if (label === "Defense") typestatsDefense.appendChild(td);
      if (label === "Overall") typestatsOverall.appendChild(td);
    });
  });
}
var typerows = typenames.map(getElementById);

                var newtypes = window.location.search;

                if (newtypes) {
                    newtypes = newtypes.slice(1).split("&");
                    newtypes.forEach(addType);
                }

                var types = typenames.length;

                var constant = types + 1;

                var size = types * types;

                var crumbs = new Array(size);

                var index = 0;

                for (var i = 0; i < types; i++) {
                    for (var j = 0; j < types; j++) {
                        var id = typenames[i] + " → " + typenames[j];
                        crumbs[index++] = document.getElementById(id);
                    }
                }
      rebuildTypeStatsRows();


                var typestats = typenames.map(getStats);

                hashUpdate();

                crumbs.forEach(listen);

                window.addEventListener("hashchange", hashUpdate, false);

                document.getElementById("add-type").addEventListener("click", promptAddType, false);

                function promptAddType() {
                    var message = "Enter the name of your new type:\n"
                                + "It must be 3 to 8 letters long and\n"
                                + "may only contain alphabets.";

                    var name = prompt(message).toLowerCase();

                    if (/^[a-z]{3,8}$/.test(name)) {
                        name = name.charAt(0).toUpperCase() + name.slice(1);

                        if (typenames.indexOf(name) < 0) {
                            if (newtypes) newtypes.push(name);
                            else newtypes = [name];
                            window.location.search = "?" + newtypes.join("&");
                        } else alert("Type already exists");
                    } else alert("Invalid name");
                }

                function hashUpdate() {
                    var data = window.location.hash || getHash();
                    data = concat(data.slice(1).split("").map(parse));

                    var length = Math.sqrt(data.length);
                    var mod = length % 1;

                    if (mod !== 0) {
                        length -= mod;
                        data.pop();
                    }

                    if (length === types) {
                        data.forEach(updateCrumb);
                        updateStats();
                    } else if (length + 1 === types) {
                        var i = length * length;

                        while (i > 0) {
                            data.splice(i, 0, 2);
                            i -= length;
                        }

                        for (var i = 0; i < types; i++) data.push(2);

                        var hash = "#", index = 0;

                        while (index < size) {
                            var a = data[index++];
                            var b = data[index++] || 0;
                            hash += (a << 2 | b).toString(16);
                        }

                        window.location.href = hash.toUpperCase();
                    } else throw new Error("Unexpected error");
                }

                function getElementById(id) {
                    return document.getElementById(id);
                }

                function addType(name) {
                    var th = document.createElement("th");
                    var a = document.createElement("a");

                    a.className = "type-abbr";
                    a.innerHTML = name.slice(0, 3);

                    th.appendChild(a);
                    typechartHead.appendChild(th);

                    typerows.forEach(function (typerow) {
                        var td = document.createElement("td");

                        td.id = typerow.id + " → " + name;
                        td.className = "type-fx-cell type-fx-100";

                        typerow.appendChild(td);
                    });

                    var tr = document.createElement("tr");
                    var th = document.createElement("th");
                    var a = document.createElement("a");

                    a.className = "type-icon-th";
                    a.innerHTML = tr.id = name;

                    th.appendChild(a);
                    tr.appendChild(th);

                    typenames.push(name);

                    typenames.forEach(function (typename) {
                        var td = document.createElement("td");

                        td.id = name + " → " + typename;
                        td.className = "type-fx-cell type-fx-100";

                        tr.appendChild(td);
                    });

                    typechartBody.appendChild(tr);

                    typerows.push(tr);

                    var th = document.createElement("th");
                    var a = document.createElement("a");

                    a.className = "type-icon-th";
                    a.innerHTML = tr.id = name;

                    th.appendChild(a);
                    typestatsHead.appendChild(th);

                    var td = document.createElement("td");

                    td.id = "Offense " + name;
                    td.className = "type-fx-cell type-fx-0";
                    td.innerHTML = "0.00";

                    typestatsOffense.appendChild(td);

                    var td = document.createElement("td");

                    td.id = "Defense " + name;
                    td.className = "type-fx-cell type-fx-0";
                    td.innerHTML = "0.00";

                    typestatsDefense.appendChild(td);

                    var td = document.createElement("td");

                    td.id = "Overall " + name;
                    td.className = "type-fx-cell type-fx-0";
                    td.innerHTML = "0.00";

                    typestatsOverall.appendChild(td);
                }

                function getStats(name) {
                    return {
                        offense: document.getElementById("Offense " + name),
                        defense: document.getElementById("Defense " + name),
                        overall: document.getElementById("Overall " + name)
                    };
                }

                function parse(x) {
                    var y = parseInt(x, 16);
                    if (isNaN(y)) throw new Error("Invalid data");
                    return [y >>> 2, y & 3];
                }

                function concat(xs) {
                    return Array.prototype.concat.apply(Array.prototype, xs);
                }

                function updateCrumb(value, index) {
                    var crumb = crumbs[index];

                    switch (value) {
                    case 0:
                        crumb.className = "type-fx-cell type-fx-0";
                        crumb.innerHTML = "0";
                        break;
                    case 1:
                        crumb.className = "type-fx-cell type-fx-50";
                        crumb.innerHTML = "½";
                        break;
                    case 2:
                        crumb.className = "type-fx-cell type-fx-100";
                        crumb.innerHTML = "";
                        break;
                    case 3:
                        crumb.className = "type-fx-cell type-fx-200";
                        crumb.innerHTML = "2";
                        break;
                    }
                }

                function updateStats() {
                    var typechart = crumbs.map(getValue);

                    var result = new Array(types);
                    var attack = new Array(types);

                    for (var i = 0; i < types; i++) {
                        var sigmaSquare = 0;
                        var sigmaAttack = 0;

                        for (var j = 0; j < types; j++) {
                            var offense  = typechart[i * types + j];
                            sigmaSquare += offense * offense;
                            sigmaAttack += offense;
                        }

                        result[i] = sigmaAttack * (sigmaAttack + 2) - sigmaSquare;
                        attack[i] = sigmaAttack;
                    }

                    var average = {
                        offense: 0,
                        defense: 0,
                        overall: 0
                    };

                    var stats = new Array(types);

                    for (var i = 0; i < types; i++) {
                        var sigmaDefense = 0;

                        for (var j = 0; j < types; j++) {
                            var defenses  = typechart[i + types * j];
                            sigmaDefense += defenses * (attack[j] - defenses + 1);
                        }

                        var offense = result[i];
                        var overall = Math.sqrt(types * offense / sigmaDefense / constant);

                        var offenseValue = offense / types / constant;
                        var defenseValue = size / sigmaDefense;
                        var overallValue = overall;

                        stats[i] = {
                            offense: types * offenseValue,
                            defense: types * defenseValue,
                            overall: types * overallValue
                        };

                        average.offense += offenseValue;
                        average.defense += defenseValue;
                        average.overall += overallValue;
                    }

                    for (var i = 0; i < types; i++) {
                        var typestat = typestats[i];

                        var offenseValue = Math.log(stats[i].offense / average.offense);
                        var defenseValue = Math.log(stats[i].defense / average.defense);
                        var overallValue = Math.log(stats[i].overall / average.overall);

                        updateValue(typestat.offense, 100 * offenseValue);
                        updateValue(typestat.defense, 100 * defenseValue);
                        updateValue(typestat.overall, 100 * overallValue);
                    }

                    window.location.hash = getHash();
                }

                function getHash() {
                    var data = "#", index = 0;

                    while (index < size) {
                        var a = getIndex(crumbs[index++]);
                        var b = getIndex(crumbs[index++]);
                        data += (a << 2 | b).toString(16);
                    }

                    return data.toUpperCase();
                }

                function getValue(crumb) {
                    switch (crumb.innerHTML) {
                    case "0": return 0/1;
                    case "½": return 1/2;
                    case "":  return 1/1;
                    case "2": return 2/1;
                    }
                }

                function getIndex(crumb) {
                    if (crumb) {
                        switch (crumb.innerHTML) {
                        case "0": return 0;
                        case "½": return 1;
                        case "":  return 2;
                        case "2": return 3;
                        }
                    }

                    return 0;
                }

                function updateValue(stat, value) {
                    if (!stat) return;
        stat.className = value <= -0.01 ? "type-fx-cell type-fx-50" :
                                     value >=  0.01 ? "type-fx-cell type-fx-150" :
                                                      "type-fx-cell type-fx-0";

                    if (stat.className === "type-fx-cell type-fx-0") value = 0;

                    stat.innerHTML = value.toFixed(2);
                }

                function listen(crumb) {
                    if (!crumb) return;
        crumb.style.cursor = "pointer";

                    crumb.addEventListener("click", function () {
                        switch (crumb.innerHTML) {
                        case "0":
                            crumb.className = "type-fx-cell type-fx-50";
                            crumb.innerHTML = "½";
                            break;
                        case "½":
                            crumb.className = "type-fx-cell type-fx-100";
                            crumb.innerHTML = "";
                            break;
                        case "":
                            crumb.className = "type-fx-cell type-fx-200";
                            crumb.innerHTML = "2";
                            break;
                        case "2":
                            crumb.className = "type-fx-cell type-fx-0";
                            crumb.innerHTML = "0";
                            break;
                        }

                        updateStats();
                    }, false);
                }
            }, false);
        </script>
    </body>
</html>
